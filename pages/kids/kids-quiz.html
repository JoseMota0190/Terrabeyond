<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TerraBeyond</title>
  <link rel="icon" href="../../assets/images/favicon.png">
  <style>
    body {
      background-color: #ffb347;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      color: #333;
      padding: 20px;
      min-height: 100vh;
      text-align: center;
    }

    header {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 20px;
      border: 3px solid #e07b00;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      margin-bottom: 20px;
    }

    header h1 {
      font-size: 2.4em;
      color: #a05200;
      margin-bottom: 5px;
    }

    #menu-box, #story-box, #quiz-box {
      max-width: 850px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      border: 3px solid #e07b00;
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .teacher-img {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 4px solid #e07b00;
      object-fit: cover;
      margin: 15px auto;
      display: block;
    }

    .menu-option {
      display: inline-block;
      background: #ff9500;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 15px;
      padding: 15px 25px;
      font-size: 1.2em;
      margin: 10px;
      cursor: pointer;
      transition: transform 0.2s, background 0.2s;
    }

    .menu-option:hover {
      transform: scale(1.05);
      background: #e07b00;
    }

    .story-text {
      font-size: 1.2em;
      line-height: 1.5;
      min-height: 100px;  
      max-height: 120px;  
      margin: 10px 0;
      color: #333;
      padding: 15px;
      background: #fff9e6;
      border-radius: 10px;
      border: 2px solid #ffd166;
      overflow-y: auto;   
    }

    .quiz-question {
      font-size: 1.4em;
      color: #a05200;
      font-weight: bold;
      margin-bottom: 15px;
    }

    .quiz-option {
      display: block;
      width: 100%;
      background: #ff9500;
      color: white;
      border: none;
      border-radius: 12px;
      padding: 12px;
      margin: 8px 0;
      font-size: 1.1em;
      cursor: pointer;
      transition: transform 0.2s, background 0.2s;
    }

    .quiz-option:hover {
      transform: scale(1.05);
      background: #e07b00;
    }

    #result {
      margin-top: 15px;
      font-size: 1.3em;
      font-weight: bold;
      color: #a05200;
    }

    .nav-buttons {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      background-color: aqua;
    }

    .nav-btn {
      background: #ff9500;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 12px 20px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1em;
      transition: background 0.3s, transform 0.2s;
      flex: 1;
    }

    .nav-btn:hover {
      background: #e07b00;
      transform: translateY(-2px);
    }

    .nav-btn:disabled {
      background: #cccccc;
      cursor: not-allowed;
      transform: none;
    }

    .btn {
    background: #4A90E2;  /* ğŸ”¼ CAMBIADO A AZUL */
    color: white;
    border: none;
    border-radius: 10px;
    padding: 10px 20px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1em;
    transition: background 0.3s, transform 0.2s;
    margin: 5px;
}

.btn:hover {
    background: #357ABD;  /* ğŸ”¼ AZUL MÃS OSCURO AL HOVER */
    transform: translateY(-2px);
}

    /* BOTONES GLOBALES SIEMPRE VISIBLES */
    .global-nav-buttons {
      margin-top: 25px;
      padding-top: 15px;
      border-top: 2px dashed #ff9500;
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    footer {
      margin-top: 25px;
      font-size: 1em;
      color: #5c3d00;
    }

    .story-progress {
      margin-top: 10px;
      font-size: 0.9em;
      color: #a05200;
    }
  </style>
</head>
<body>

  <header>
    <h1>ğŸš€ PequeÃ±os Astronautas con el Profesor Albert Sagan</h1>
    <p>Aprende sobre el universo de una forma divertida ğŸŒŸ</p>
  </header>

  <!-- MENU -->
  <div id="menu-box">
    <img src="../../assets/images/profe.png" alt="Profesor Albert Sagan" class="teacher-img" onerror="this.style.display='none'">
    <h2>Â¡Hola, pequeÃ±o astronauta! ğŸŒŒ</h2>
    <p>Â¿Sobre quÃ© te gustarÃ­a aprender hoy?</p>
    <button class="menu-option" onclick="startStory('planetas')">ğŸª Planetas</button>
    <button class="menu-option" onclick="startStory('estrellas')">âœ¨ Estrellas</button>
    <button class="menu-option" onclick="startStory('agujeros')">ğŸŒ€ Agujeros Negros</button>
    
    <!-- BOTONES GLOBALES -->
    <div class="global-nav-buttons">
      <button class="btn" onclick="window.location.href='../../index.html'">ğŸ  Inicio</button>
      <button class="btn" onclick="window.location.href='kids.html'">ğŸ‘©â€ğŸš€ PequeÃ±os Astronautas</button>
    </div>
  </div>

  <!-- HISTORIA -->
  <div id="story-box" style="display:none;">
    <img src="../../assets/images/profe.png" alt="Profesor Albert Sagan" class="teacher-img" onerror="this.style.display='none'">
    <div id="story" class="story-text"></div>
    <div class="story-progress" id="storyProgress"></div>
    <div class="nav-buttons">
      <button class="nav-btn" id="prevBtn" onclick="previousStory()" disabled>â† Anterior</button>
      <button class="nav-btn" id="nextBtn" onclick="nextStory()">Siguiente â†’</button>
    </div>
    
    <!-- BOTONES GLOBALES -->
    <div class="global-nav-buttons">
      <button class="btn" onclick="window.location.href='../../index.html'">ğŸ  Inicio</button>
      <button class="btn" onclick="window.location.href='kids.html'">ğŸ‘©â€ğŸš€ PequeÃ±os Astronautas</button>
      <button class="btn" onclick="showMenu()">ğŸ“š Otro Tema</button>
    </div>
  </div>

  <!-- QUIZ -->
  <div id="quiz-box" style="display:none;">
    <h2>ğŸ§  Â¡Hora del Quiz!</h2>
    <div id="question" class="quiz-question"></div>
    <div id="options"></div>
    <div id="result"></div>
    
    <!-- BOTONES GLOBALES -->
    <div class="global-nav-buttons">
      <button class="btn" onclick="window.location.href='../../index.html'">ğŸ  Inicio</button>
      <button class="btn" onclick="window.location.href='kids.html'">ğŸ‘©â€ğŸš€ PequeÃ±os astronautas</button>
      <button class="btn" onclick="showMenu()">ğŸ“š Otro Quiz</button>
    </div>
  </div>

  <footer>Â© 2025 TerraBeyond Kids â€” Aprender es una aventura sin fin ğŸŒ </footer>

  <script>
    const stories = {
      planetas: [
        "ğŸŒŸ Â¡Excelente elecciÃ³n, viajero espacial! Vamos a descubrir los planetas del Sistema Solar.",
        "Hace mucho, mucho tiempo, los planetas comenzaron su danza alrededor del Sol, el rey luminoso del sistema. ğŸŒ",
        "Mercurio era el mÃ¡s rÃ¡pido, siempre corriendo cerca del Sol. Venus brillaba como una joya dorada.",
        "La Tierra, nuestro hogar azul, giraba feliz junto a su Luna. ğŸŒ",
        "MÃ¡s lejos, Marte soÃ±aba con algÃºn dÃ­a tener agua de nuevo. JÃºpiter y Saturno cuidaban a los demÃ¡s con su enorme tamaÃ±o. ğŸª",
        "Â¡Y allÃ¡ en la distancia, Neptuno y Urano jugaban entre vientos helados! â„ï¸",
        "Ahora que conoces un poco su historia... Â¿listo para demostrar cuÃ¡nto aprendiste?"
      ],
      estrellas: [
        "âœ¨ Â¡Las estrellas son los faros del universo! Desde hace miles de aÃ±os, los humanos miran su brillo y sueÃ±an.",
        "Cada estrella es una bola gigante de gas caliente que brilla gracias a la fusiÃ³n nuclear. ğŸ”¥",
        "Algunas viven millones de aÃ±os; otras, solo unos pocos miles, pero dejan una huella brillante en el cielo.",
        "Â¿SabÃ­as que nuestro Sol tambiÃ©n es una estrella? Solo que estÃ¡ muy, muy cerca comparado con las demÃ¡s. ğŸŒ",
        "Â¡Ahora veamos cuÃ¡nto sabes sobre ellas!"
      ],
      agujeros: [
        "ğŸŒ€ Â¡Valiente elecciÃ³n! Los agujeros negros son uno de los misterios mÃ¡s grandes del universo.",
        "Se forman cuando una estrella gigante exploca y colapsa sobre sÃ­ misma, creando una fuerza de gravedad tan poderosa que ni la luz puede escapar. ğŸŒŒ",
        "No los podemos ver directamente, pero sÃ­ notar cÃ³mo afectan a las estrellas y planetas que los rodean.",
        "Algunos son pequeÃ±os, otros pueden tragarse millones de soles enteros. ğŸ˜®",
        "Â¡Ahora pongamos a prueba tu conocimiento sobre estos gigantes invisibles!"
      ]
    };

    const quizzes = {
      planetas: [
        { q: "Â¿CuÃ¡l es el planeta mÃ¡s cercano al Sol?", options: ["Venus", "Mercurio", "Tierra"], a: 1 },
        { q: "Â¿QuÃ© planeta es conocido como el planeta rojo?", options: ["Marte", "Saturno", "Urano"], a: 0 },
        { q: "Â¿CuÃ¡l tiene anillos brillantes?", options: ["Neptuno", "Saturno", "Venus"], a: 1 }
      ],
      estrellas: [
        { q: "Â¿QuÃ© es una estrella?", options: ["Una roca frÃ­a", "Una bola de gas caliente", "Un planeta gigante"], a: 1 },
        { q: "Â¿CuÃ¡l es la estrella mÃ¡s cercana a la Tierra?", options: ["El Sol", "Sirio", "Polaris"], a: 0 },
        { q: "Â¿QuÃ© le da brillo a las estrellas?", options: ["El fuego", "La fusiÃ³n nuclear", "La electricidad"], a: 1 }
      ],
      agujeros: [
        { q: "Â¿QuÃ© es un agujero negro?", options: ["Un planeta oscuro", "Una estrella colapsada", "Un cometa"], a: 1 },
        { q: "Â¿QuÃ© puede escapar de un agujero negro?", options: ["Nada", "La luz", "Los planetas"], a: 0 },
        { q: "Â¿QuÃ© forma tienen los agujeros negros?", options: ["CÃºbica", "Redonda", "Triangular"], a: 1 }
      ]
    };

    const storyBox = document.getElementById("story-box");
    const storyEl = document.getElementById("story");
    const storyProgress = document.getElementById("storyProgress");
    const menuBox = document.getElementById("menu-box");
    const quizBox = document.getElementById("quiz-box");
    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const resultEl = document.getElementById("result");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    let currentStory = [];
    let currentQuiz = [];
    let storyIndex = 0;
    let score = 0, quizIndex = 0, topic = "";

    function showMenu() {
      storyBox.style.display = "none";
      quizBox.style.display = "none";
      menuBox.style.display = "block";
    }

    function startStory(selected) {
      topic = selected;
      menuBox.style.display = "none";
      storyBox.style.display = "block";
      currentStory = stories[topic];
      storyIndex = 0;
      showStoryPage();
    }

    function showStoryPage() {
      storyEl.textContent = currentStory[storyIndex];
      storyProgress.textContent = `${storyIndex + 1} / ${currentStory.length}`;
      
      // Actualizar botones
      prevBtn.disabled = storyIndex === 0;
      nextBtn.textContent = storyIndex === currentStory.length - 1 ? "Comenzar Quiz â†’" : "Siguiente â†’";
    }

    function previousStory() {
      if (storyIndex > 0) {
        storyIndex--;
        showStoryPage();
      }
    }

    function nextStory() {
      if (storyIndex < currentStory.length - 1) {
        storyIndex++;
        showStoryPage();
      } else {
        // TerminÃ³ la historia, comenzar quiz
        storyBox.style.display = "none";
        startQuiz(topic);
      }
    }

    function startQuiz(topic) {
      quizBox.style.display = "block";
      currentQuiz = quizzes[topic];
      score = 0;
      quizIndex = 0;
      loadQuestion();
    }

    function loadQuestion() {
      const q = currentQuiz[quizIndex];
      questionEl.textContent = q.q;
      optionsEl.innerHTML = "";
      resultEl.textContent = "";
      q.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.className = "quiz-option";
        btn.onclick = () => checkAnswer(i);
        optionsEl.appendChild(btn);
      });
    }

    function checkAnswer(i) {
      const q = currentQuiz[quizIndex];
      if (i === q.a) {
        resultEl.textContent = "âœ… Â¡Correcto!";
        score++;
      } else {
        resultEl.textContent = "âŒ No exactamente...";
      }

      quizIndex++;
      if (quizIndex < currentQuiz.length) {
        setTimeout(loadQuestion, 1500);
      } else {
        showResults();
      }
    }

    function showResults() {
      questionEl.textContent = "ğŸ‰ Â¡Excelente trabajo, astronauta!";
      optionsEl.innerHTML = "";
      resultEl.textContent = `Tu puntuaciÃ³n: ${score}/${currentQuiz.length}`;
    }
  </script>
</body>
</html>